apiVersion: v1
kind: Namespace
metadata:
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    clusterctl.cluster.x-k8s.io: ""
    control-plane: controller-manager
  name: caph-system
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    cert-manager.io/inject-ca-from: caph-system/caph-serving-cert
    controller-gen.kubebuilder.io/version: v0.12.0
  creationTimestamp: null
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    cluster.x-k8s.io/v1beta1: v1beta1
    clusterctl.cluster.x-k8s.io: ""
  name: hcloudmachines.infrastructure.cluster.x-k8s.io
spec:
  conversion:
    strategy: Webhook
    webhook:
      clientConfig:
        service:
          name: caph-webhook-service
          namespace: caph-system
          path: /convert
      conversionReviewVersions:
      - v1
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: HCloudMachine
    listKind: HCloudMachineList
    plural: hcloudmachines
    shortNames:
    - capihcm
    singular: hcloudmachine
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Cluster to which this HCloudMachine belongs
      jsonPath: .metadata.labels.cluster\.x-k8s\.io/cluster-name
      name: Cluster
      type: string
    - description: Machine object which owns with this HCloudMachine
      jsonPath: .metadata.ownerReferences[?(@.kind=="Machine")].name
      name: Machine
      type: string
    - description: Phase of HCloudMachine
      jsonPath: .status.instanceState
      name: Phase
      type: string
    - description: Time duration since creation of hcloudmachine
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    - jsonPath: .status.conditions[?(@.type=='Ready')].reason
      name: Reason
      type: string
    - jsonPath: .status.conditions[?(@.type=='Ready')].message
      name: Message
      type: string
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: HCloudMachine is the Schema for the hcloudmachines API.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: HCloudMachineSpec defines the desired state of HCloudMachine.
            properties:
              imageName:
                description: ImageName is the reference to the Machine Image from
                  which to create the machine instance.
                minLength: 1
                type: string
              placementGroupName:
                type: string
              providerID:
                description: ProviderID is the unique identifier as specified by the
                  cloud provider.
                type: string
              publicNetwork:
                description: PublicNetwork specifies information for public networks
                properties:
                  enableIPv4:
                    default: true
                    type: boolean
                  enableIPv6:
                    default: true
                    type: boolean
                type: object
              sshKeys:
                description: define Machine specific SSH keys, overrides cluster wide
                  SSH keys
                items:
                  description: SSHKey defines the SSHKey for HCloud.
                  properties:
                    fingerprint:
                      description: Fingerprint of SSH key - added by controller
                      type: string
                    name:
                      description: Name of SSH key
                      minLength: 1
                      type: string
                  required:
                  - name
                  type: object
                type: array
              type:
                description: Type is the HCloud Machine Type for this machine.
                enum:
                - cpx11
                - cx21
                - cpx21
                - cx31
                - cpx31
                - cx41
                - cpx41
                - cx51
                - cpx51
                - ccx11
                - ccx12
                - ccx13
                - ccx21
                - ccx22
                - ccx23
                - ccx31
                - ccx32
                - ccx33
                - ccx41
                - ccx42
                - ccx43
                - ccx51
                - ccx52
                - ccx53
                - ccx62
                - ccx63
                - cax11
                - cax21
                - cax31
                - cax41
                type: string
            required:
            - imageName
            - type
            type: object
          status:
            description: HCloudMachineStatus defines the observed state of HCloudMachine.
            properties:
              addresses:
                description: Addresses contains the server's associated addresses.
                items:
                  description: MachineAddress contains information for the node's
                    address.
                  properties:
                    address:
                      description: The machine address.
                      type: string
                    type:
                      description: Machine address type, one of Hostname, ExternalIP,
                        InternalIP, ExternalDNS or InternalDNS.
                      type: string
                  required:
                  - address
                  - type
                  type: object
                type: array
              conditions:
                description: Conditions defines current service state of the HCloudMachine.
                items:
                  description: Condition defines an observation of a Cluster API resource
                    operational state.
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned from one status
                        to another. This should be when the underlying condition changed.
                        If that is not known, then using the time when the API field
                        changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: A human readable message indicating details about
                        the transition. This field may be empty.
                      type: string
                    reason:
                      description: The reason for the condition's last transition
                        in CamelCase. The specific API may choose whether or not this
                        field is considered a guaranteed API. This field may not be
                        empty.
                      type: string
                    severity:
                      description: Severity provides an explicit classification of
                        Reason code, so the users or machines can immediately understand
                        the current situation and act accordingly. The Severity field
                        MUST be set only when Status=False.
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: Type of condition in CamelCase or in foo.example.com/CamelCase.
                        Many .condition.type values are consistent across resources
                        like Available, but because arbitrary conditions can be useful
                        (see .node.status.conditions), the ability to deconflict is
                        important.
                      type: string
                  required:
                  - lastTransitionTime
                  - status
                  - type
                  type: object
                type: array
              failureMessage:
                description: FailureMessage will be set in the event that there is
                  a terminal problem reconciling the Machine and will contain a more
                  verbose string suitable for logging and human consumption.
                type: string
              failureReason:
                description: FailureReason will be set in the event that there is
                  a terminal problem reconciling the Machine and will contain a succinct
                  value suitable for machine interpretation.
                type: string
              instanceState:
                description: InstanceState is the state of the server for this machine.
                type: string
              ready:
                description: Ready is true when the provider resource is ready.
                type: boolean
              region:
                description: Region contains the name of the HCloud location the server
                  is running.
                enum:
                - fsn1
                - hel1
                - nbg1
                - ash
                - hil
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    cert-manager.io/inject-ca-from: caph-system/caph-serving-cert
    controller-gen.kubebuilder.io/version: v0.12.0
  creationTimestamp: null
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    cluster.x-k8s.io/v1beta1: v1beta1
    clusterctl.cluster.x-k8s.io: ""
  name: hcloudmachinetemplates.infrastructure.cluster.x-k8s.io
spec:
  conversion:
    strategy: Webhook
    webhook:
      clientConfig:
        service:
          name: caph-webhook-service
          namespace: caph-system
          path: /convert
      conversionReviewVersions:
      - v1
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: HCloudMachineTemplate
    listKind: HCloudMachineTemplateList
    plural: hcloudmachinetemplates
    shortNames:
    - capihcmt
    singular: hcloudmachinetemplate
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Image name
      jsonPath: .spec.template.spec.imageName
      name: Image
      type: string
    - description: Placement group name
      jsonPath: .spec.template.spec.placementGroupName
      name: Placement group
      type: string
    - description: Server type
      jsonPath: .spec.template.spec.type
      name: Type
      type: string
    - jsonPath: .status.conditions[?(@.type=='Ready')].reason
      name: Reason
      type: string
    - jsonPath: .status.conditions[?(@.type=='Ready')].message
      name: Message
      type: string
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: HCloudMachineTemplate is the Schema for the hcloudmachinetemplates
          API.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: HCloudMachineTemplateSpec defines the desired state of HCloudMachineTemplate.
            properties:
              template:
                description: HCloudMachineTemplateResource describes the data needed
                  to create am HCloudMachine from a template.
                properties:
                  metadata:
                    description: Standard object's metadata.
                    properties:
                      annotations:
                        additionalProperties:
                          type: string
                        description: 'Annotations is an unstructured key value map
                          stored with a resource that may be set by external tools
                          to store and retrieve arbitrary metadata. They are not queryable
                          and should be preserved when modifying objects. More info:
                          http://kubernetes.io/docs/user-guide/annotations'
                        type: object
                      labels:
                        additionalProperties:
                          type: string
                        description: 'Map of string keys and values that can be used
                          to organize and categorize (scope and select) objects. May
                          match selectors of replication controllers and services.
                          More info: http://kubernetes.io/docs/user-guide/labels'
                        type: object
                    type: object
                  spec:
                    description: Spec is the specification of the desired behavior
                      of the machine.
                    properties:
                      imageName:
                        description: ImageName is the reference to the Machine Image
                          from which to create the machine instance.
                        minLength: 1
                        type: string
                      placementGroupName:
                        type: string
                      providerID:
                        description: ProviderID is the unique identifier as specified
                          by the cloud provider.
                        type: string
                      publicNetwork:
                        description: PublicNetwork specifies information for public
                          networks
                        properties:
                          enableIPv4:
                            default: true
                            type: boolean
                          enableIPv6:
                            default: true
                            type: boolean
                        type: object
                      sshKeys:
                        description: define Machine specific SSH keys, overrides cluster
                          wide SSH keys
                        items:
                          description: SSHKey defines the SSHKey for HCloud.
                          properties:
                            fingerprint:
                              description: Fingerprint of SSH key - added by controller
                              type: string
                            name:
                              description: Name of SSH key
                              minLength: 1
                              type: string
                          required:
                          - name
                          type: object
                        type: array
                      type:
                        description: Type is the HCloud Machine Type for this machine.
                        enum:
                        - cpx11
                        - cx21
                        - cpx21
                        - cx31
                        - cpx31
                        - cx41
                        - cpx41
                        - cx51
                        - cpx51
                        - ccx11
                        - ccx12
                        - ccx13
                        - ccx21
                        - ccx22
                        - ccx23
                        - ccx31
                        - ccx32
                        - ccx33
                        - ccx41
                        - ccx42
                        - ccx43
                        - ccx51
                        - ccx52
                        - ccx53
                        - ccx62
                        - ccx63
                        - cax11
                        - cax21
                        - cax31
                        - cax41
                        type: string
                    required:
                    - imageName
                    - type
                    type: object
                required:
                - spec
                type: object
            required:
            - template
            type: object
          status:
            description: HCloudMachineTemplateStatus defines the observed state of
              HCloudMachineTemplate.
            properties:
              capacity:
                additionalProperties:
                  anyOf:
                  - type: integer
                  - type: string
                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                  x-kubernetes-int-or-string: true
                description: 'Capacity defines the resource capacity for this machine.
                  This value is used for autoscaling from zero operations as defined
                  in: https://github.com/kubernetes-sigs/cluster-api/blob/main/docs/proposals/20210310-opt-in-autoscaling-from-zero.md'
                type: object
              conditions:
                description: Conditions defines current service state of the HCloudMachineTemplate.
                items:
                  description: Condition defines an observation of a Cluster API resource
                    operational state.
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned from one status
                        to another. This should be when the underlying condition changed.
                        If that is not known, then using the time when the API field
                        changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: A human readable message indicating details about
                        the transition. This field may be empty.
                      type: string
                    reason:
                      description: The reason for the condition's last transition
                        in CamelCase. The specific API may choose whether or not this
                        field is considered a guaranteed API. This field may not be
                        empty.
                      type: string
                    severity:
                      description: Severity provides an explicit classification of
                        Reason code, so the users or machines can immediately understand
                        the current situation and act accordingly. The Severity field
                        MUST be set only when Status=False.
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: Type of condition in CamelCase or in foo.example.com/CamelCase.
                        Many .condition.type values are consistent across resources
                        like Available, but because arbitrary conditions can be useful
                        (see .node.status.conditions), the ability to deconflict is
                        important.
                      type: string
                  required:
                  - lastTransitionTime
                  - status
                  - type
                  type: object
                type: array
              ownerType:
                description: OwnerType is the type of object that owns the HCloudMachineTemplate.
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    cert-manager.io/inject-ca-from: caph-system/caph-serving-cert
    controller-gen.kubebuilder.io/version: v0.12.0
  creationTimestamp: null
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    cluster.x-k8s.io/v1beta1: v1beta1
    clusterctl.cluster.x-k8s.io: ""
  name: hcloudremediations.infrastructure.cluster.x-k8s.io
spec:
  conversion:
    strategy: Webhook
    webhook:
      clientConfig:
        service:
          name: caph-webhook-service
          namespace: caph-system
          path: /convert
      conversionReviewVersions:
      - v1
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: HCloudRemediation
    listKind: HCloudRemediationList
    plural: hcloudremediations
    shortNames:
    - hcr
    - hcloudremediation
    singular: hcloudremediation
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Timeout for the remediation
      jsonPath: .spec.strategy.timeout
      name: Timeout
      type: string
    - description: Phase of the remediation
      jsonPath: .status.phase
      name: Phase
      type: string
    - description: Timestamp of the last remediation attempt
      jsonPath: .status.lastRemediated
      name: Last Remediated
      type: string
    - description: How many times remediation controller has tried to remediate the
        node
      jsonPath: .status.retryCount
      name: Retry count
      type: string
    - description: How many times remediation controller should attempt to remediate
        the node
      jsonPath: .spec.strategy.retryLimit
      name: Retry limit
      type: string
    - jsonPath: .status.conditions[?(@.type=='Ready')].reason
      name: Reason
      type: string
    - jsonPath: .status.conditions[?(@.type=='Ready')].message
      name: Message
      type: string
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: HCloudRemediation is the Schema for the hcloudremediations API.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: HCloudRemediationSpec defines the desired state of HCloudRemediation.
            properties:
              strategy:
                description: Strategy field defines remediation strategy.
                properties:
                  retryLimit:
                    description: Sets maximum number of remediation retries.
                    type: integer
                  timeout:
                    description: Sets the timeout between remediation retries.
                    type: string
                  type:
                    default: Reboot
                    description: Type of remediation.
                    type: string
                required:
                - timeout
                type: object
            type: object
          status:
            description: HCloudRemediationStatus defines the observed state of HCloudRemediation.
            properties:
              conditions:
                description: Conditions defines current service state of the HCloudRemediation.
                items:
                  description: Condition defines an observation of a Cluster API resource
                    operational state.
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned from one status
                        to another. This should be when the underlying condition changed.
                        If that is not known, then using the time when the API field
                        changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: A human readable message indicating details about
                        the transition. This field may be empty.
                      type: string
                    reason:
                      description: The reason for the condition's last transition
                        in CamelCase. The specific API may choose whether or not this
                        field is considered a guaranteed API. This field may not be
                        empty.
                      type: string
                    severity:
                      description: Severity provides an explicit classification of
                        Reason code, so the users or machines can immediately understand
                        the current situation and act accordingly. The Severity field
                        MUST be set only when Status=False.
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: Type of condition in CamelCase or in foo.example.com/CamelCase.
                        Many .condition.type values are consistent across resources
                        like Available, but because arbitrary conditions can be useful
                        (see .node.status.conditions), the ability to deconflict is
                        important.
                      type: string
                  required:
                  - lastTransitionTime
                  - status
                  - type
                  type: object
                type: array
              lastRemediated:
                description: LastRemediated identifies when the host was last remediated
                format: date-time
                type: string
              phase:
                description: Phase represents the current phase of machine remediation.
                  E.g. Pending, Running, Done etc.
                type: string
              retryCount:
                description: RetryCount can be used as a counter during the remediation.
                  Field can hold number of reboots etc.
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    cert-manager.io/inject-ca-from: caph-system/caph-serving-cert
    controller-gen.kubebuilder.io/version: v0.12.0
  creationTimestamp: null
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    cluster.x-k8s.io/v1beta1: v1beta1
    clusterctl.cluster.x-k8s.io: ""
  name: hcloudremediationtemplates.infrastructure.cluster.x-k8s.io
spec:
  conversion:
    strategy: Webhook
    webhook:
      clientConfig:
        service:
          name: caph-webhook-service
          namespace: caph-system
          path: /convert
      conversionReviewVersions:
      - v1
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: HCloudRemediationTemplate
    listKind: HCloudRemediationTemplateList
    plural: hcloudremediationtemplates
    shortNames:
    - hcrt
    - hcremediationtemplate
    - hcremediationtemplates
    - hcloudrt
    - hcloudremediationtemplate
    singular: hcloudremediationtemplate
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Type of the remediation strategy
      jsonPath: .spec.template.spec.strategy.type
      name: Strategy
      type: string
    - description: How many times remediation controller should attempt to remediate
        the node
      jsonPath: .spec.template.spec.strategy.retryLimit
      name: Retry limit
      type: string
    - description: Timeout for the remediation
      jsonPath: .spec.template.spec.strategy.timeout
      name: Timeout
      type: string
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: HCloudRemediationTemplate is the Schema for the hcloudremediationtemplates
          API.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: HCloudRemediationTemplateSpec defines the desired state of
              HCloudRemediationTemplate.
            properties:
              template:
                description: HCloudRemediationTemplateResource describes the data
                  needed to create a HCloudRemediation from a template.
                properties:
                  spec:
                    description: Spec is the specification of the desired behavior
                      of the HCloudRemediation.
                    properties:
                      strategy:
                        description: Strategy field defines remediation strategy.
                        properties:
                          retryLimit:
                            description: Sets maximum number of remediation retries.
                            type: integer
                          timeout:
                            description: Sets the timeout between remediation retries.
                            type: string
                          type:
                            default: Reboot
                            description: Type of remediation.
                            type: string
                        required:
                        - timeout
                        type: object
                    type: object
                required:
                - spec
                type: object
            required:
            - template
            type: object
          status:
            description: HCloudRemediationTemplateStatus defines the observed state
              of HCloudRemediationTemplate.
            properties:
              status:
                description: HCloudRemediationStatus defines the observed state of
                  HCloudRemediation
                properties:
                  conditions:
                    description: Conditions defines current service state of the HCloudRemediation.
                    items:
                      description: Condition defines an observation of a Cluster API
                        resource operational state.
                      properties:
                        lastTransitionTime:
                          description: Last time the condition transitioned from one
                            status to another. This should be when the underlying
                            condition changed. If that is not known, then using the
                            time when the API field changed is acceptable.
                          format: date-time
                          type: string
                        message:
                          description: A human readable message indicating details
                            about the transition. This field may be empty.
                          type: string
                        reason:
                          description: The reason for the condition's last transition
                            in CamelCase. The specific API may choose whether or not
                            this field is considered a guaranteed API. This field
                            may not be empty.
                          type: string
                        severity:
                          description: Severity provides an explicit classification
                            of Reason code, so the users or machines can immediately
                            understand the current situation and act accordingly.
                            The Severity field MUST be set only when Status=False.
                          type: string
                        status:
                          description: Status of the condition, one of True, False,
                            Unknown.
                          type: string
                        type:
                          description: Type of condition in CamelCase or in foo.example.com/CamelCase.
                            Many .condition.type values are consistent across resources
                            like Available, but because arbitrary conditions can be
                            useful (see .node.status.conditions), the ability to deconflict
                            is important.
                          type: string
                      required:
                      - lastTransitionTime
                      - status
                      - type
                      type: object
                    type: array
                  lastRemediated:
                    description: LastRemediated identifies when the host was last
                      remediated
                    format: date-time
                    type: string
                  phase:
                    description: Phase represents the current phase of machine remediation.
                      E.g. Pending, Running, Done etc.
                    type: string
                  retryCount:
                    description: RetryCount can be used as a counter during the remediation.
                      Field can hold number of reboots etc.
                    type: integer
                type: object
            required:
            - status
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    cert-manager.io/inject-ca-from: caph-system/caph-serving-cert
    controller-gen.kubebuilder.io/version: v0.12.0
  creationTimestamp: null
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    cluster.x-k8s.io/v1beta1: v1beta1
    clusterctl.cluster.x-k8s.io: ""
  name: hetznerbaremetalhosts.infrastructure.cluster.x-k8s.io
spec:
  conversion:
    strategy: Webhook
    webhook:
      clientConfig:
        service:
          name: caph-webhook-service
          namespace: caph-system
          path: /convert
      conversionReviewVersions:
      - v1
  group: infrastructure.cluster.x-k8s.io
  names:
    kind: HetznerBareMetalHost
    listKind: HetznerBareMetalHostList
    plural: hetznerbaremetalhosts
    shortNames:
    - hbmh
    - hbmhost
    singular: hetznerbaremetalhost
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Phase of provisioning
      jsonPath: .spec.status.provisioningState
      name: Phase
      type: string
    - description: IPv4 of the host
      jsonPath: .spec.status.ipv4
      name: IPv4
      type: string
    - description: IPv6 of the host
      jsonPath: .spec.status.ipv6
      name: IPv6
      type: string
    - description: Maintenance Mode
      jsonPath: .spec.maintenanceMode
      name: Maintenance
      type: boolean
    - description: CPU threads
      jsonPath: .spec.status.hardwareDetails.cpu.threads
      name: CPU
      type: string
    - description: RAM in GB
      jsonPath: .spec.status.hardwareDetails.ramGB
      name: RAM
      type: string
    - description: HetznerBareMetalMachine using this host
      jsonPath: .spec.consumerRef.name
      name: HetznerBareMetalMachine
      type: string
    - description: Time duration since creation of BaremetalHost
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    - jsonPath: .spec.status.conditions[?(@.type=='Ready')].reason
      name: Reason
      type: string
    - jsonPath: .spec.status.conditions[?(@.type=='Ready')].message
      name: Message
      type: string
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: HetznerBareMetalHost is the Schema for the hetznerbaremetalhosts
          API.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: HetznerBareMetalHostSpec defines the desired state of HetznerBareMetalHost.
            properties:
              consumerRef:
                description: ConsumerRef is a reference to the HetznerBareMetalMachine
                  that is using this host. When it is not empty, the host is considered
                  "in use".
                properties:
                  apiVersion:
                    description: API version of the referent.
                    type: string
                  fieldPath:
                    description: 'If referring to a piece of an object instead of
                      an entire object, this string should contain a valid JSON/Go
                      field access statement, such as desiredState.manifest.containers[2].
                      For example, if the object reference is to a container within
                      a pod, this would take on a value like: "spec.containers{name}"
                      (where "name" refers to the name of the container that triggered
                      the event) or if no container name is specified "spec.containers[2]"
                      (container with index 2 in this pod). This syntax is chosen
                      only to have some well-defined way of referencing a part of
                      an object. TODO: this design is not final and this field is
                      subject to change in the future.'
                    type: string
                  kind:
                    description: 'Kind of the referent. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                    type: string
                  name:
                    description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                    type: string
                  namespace:
                    description: 'Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/'
                    type: string
                  resourceVersion:
                    description: 'Specific resourceVersion to which this reference
                      is made, if any. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency'
                    type: string
                  uid:
                    description: 'UID of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids'
                    type: string
                type: object
                x-kubernetes-map-type: atomic
              description:
                description: Description is a human-entered text used to help identify
                  the host
                type: string
              maintenanceMode:
                description: MaintenanceMode indicates that a machine is supposed
                  to be deprovisioned and won't be selected by any Hetzner bare metal
                  machine.
                type: boolean
              rootDeviceHints:
                description: Provide guidance about how to choose the device for the
                  image being provisioned. They need to be specified to provision
                  the host.
                properties:
                  raid:
                    description: To specify multiple storage devices.
                    properties:
                      wwn:
                        items:
                          type: string
                        type: array
                    type: object
                  wwn:
                    description: Unique storage identifier. The hint must match the
                      actual value exactly.
                    type: string
                type: object
              serverID:
                description: ServerID defines the ID of the server provided by Hetzner.
                type: integer
              status:
                description: Status contains all status information. DO NOT EDIT!!!
                properties:
                  conditions:
                    description: Conditions defines current service state of the HetznerBareMetalHost.
                    items:
                      description: Condition defines an observation of a Cluster API
                        resource operational state.
                      properties:
                        lastTransitionTime:
                          description: Last time the condition transitioned from one
                            status to another. This should be when the underlying
                            condition changed. If that is not known, then using the
                            time when the API field changed is acceptable.
                          format: date-time
                          type: string
                        message:
                          description: A human readable message indicating details
                            about the transition. This field may be empty.
                          type: string
                        reason:
                          description: The reason for the condition's last transition
                            in CamelCase. The specific API may choose whether or not
                            this field is considered a guaranteed API. This field
                            may not be empty.
                          type: string
                        severity:
                          description: Severity provides an explicit classification
                            of Reason code, so the users or machines can immediately
                            understand the current situation and act accordingly.
                            The Severity field MUST be set only when Status=False.
                          type: string
                        status:
                          description: Status of the condition, one of True, False,
                            Unknown.
                          type: string
                        type:
                          description: Type of condition in CamelCase or in foo.example.com/CamelCase.
                            Many .condition.type values are consistent across resources
                            like Available, but because arbitrary conditions can be
                            useful (see .node.status.conditions), the ability to deconflict
                            is important.
                          type: string
                      required:
                      - lastTransitionTime
                      - status
                      - type
                      type: object
                    type: array
                  errorCount:
                    default: 0
                    description: ErrorCount records how many times the host has encoutered
                      an error since the last successful operation.
                    type: integer
                  errorMessage:
                    description: the last error message reported by the provisioning
                      subsystem.
                    type: string
                  errorType:
                    description: ErrorType indicates the type of failure encountered
                      when the OperationalStatus is OperationalStatusError
                    type: string
                  hardwareDetails:
                    description: StatusHardwareDetails are automatically gathered
                      and should not be modified by the user.
                    properties:
                      cpu:
                        description: CPU describes one processor on the host.
                        properties:
                          arch:
                            type: string
                          clockGigahertz:
                            description: ClockSpeed is a clock speed in MHz
                            format: double
                            type: string
                          cores:
                            type: integer
                          flags:
                            items:
                              type: string
                            type: array
                          model:
                            type: string
                          threads:
                            type: integer
                        type: object
                      nics:
                        items:
                          description: NIC describes one network interface on the
                            host.
                          properties:
                            ip:
                              description: The IP address of the interface. This will
                                be an IPv4 or IPv6 address if one is present.  If
                                both IPv4 and IPv6 addresses are present in a dual-stack
                                environment, two nics will be output, one with each
                                IP.
                              type: string
                            mac:
                              description: The device MAC address
                              pattern: '[0-9a-fA-F]{2}(:[0-9a-fA-F]{2}){5}'
                              type: string
                            model:
                              description: The vendor and product IDs of the NIC,
                                e.g. "0x8086 0x1572"
                              type: string
                            name:
                              description: The name of the network interface, e.g.
                                "en0"
                              type: string
                            speedMbps:
                              description: The speed of the device in Gigabits per
                                second
                              type: integer
                          type: object
                        type: array
                      ramGB:
                        type: integer
                      storage:
                        items:
                          description: Storage describes one storage device (disk,
                            SSD, etc.) on the host.
                          properties:
                            hctl:
                              description: The SCSI location of the device
                              type: string
                            model:
                              description: Hardware model
                              type: string
                            name:
                              description: The Linux device name of the disk, e.g.
                                "/dev/sda". Note that this may not be stable across
                                reboots.
                              type: string
                            rota:
                              description: Rota defines if its a HDD device or not.
                              type: boolean
                            serialNumber:
                              description: The serial number of the device
                              type: string
                            sizeBytes:
                              description: The size of the disk in Bytes
                              format: int64
                              type: integer
                            sizeGB:
                              description: The size of the disk in GB
                              format: int64
                              type: integer
                            vendor:
                              description: The name of the vendor of the device
                              type: string
                            wwn:
                              description: The WWN of the device
                              type: string
                          type: object
                        type: array
                    type: object
                  hetznerClusterRef:
                    description: HetznerClusterRef is the name of the HetznerCluster
                      object which is needed as some necessary information is stored
                      there, e.g. the hrobot password
                    type: string
                  installImage:
                    description: InstallImage is the configuration which is used for
                      the autosetup configuration for installing an OS via InstallImage.
                    properties:
                      btrfsDefinitions:
                        description: BTRFSDefinitions defines the btrfs subvolume
                          definitions to be created.
                        items:
                          description: BTRFSDefinition defines the btrfs subvolume
                            definitions to be created.
                          properties:
                            mount:
                              description: Mount defines the mountpath.
                              type: string
                            subvolume:
                              description: SubVolume defines the subvolume name.
                              type: string
                            volume:
                              description: Volume defines the btrfs volume name.
                              type: string
                          required:
                          - mount
                          - subvolume
                          - volume
                          type: object
                        type: array
                      image:
                        description: Image is the image to be provisioned.
                        properties:
                          name:
                            description: Name defines the archive name after download.
                              This has to be a valid name for Installimage.
                            type: string
                          path:
                            description: Path is the local path for a preinstalled
                              image from upstream.
                            type: string
                          url:
                            description: URL defines the remote URL for downloading
                              a tar, tar.gz, tar.bz, tar.bz2, tar.xz, tgz, tbz, txz
                              image.
                            type: string
                        type: object
                      logicalVolumeDefinitions:
                        description: LVMDefinitions defines the logical volume definitions
                          to be created.
                        items:
                          description: LVMDefinition defines the logical volume definitions
                            to be created.
                          properties:
                            filesystem:
                              description: FileSystem defines the filesystem for this
                                logical volume.
                              type: string
                            mount:
                              description: Mount defines the mountpath.
                              type: string
                            name:
                              description: Name defines the volume name.
                              type: string
                            size:
                              description: Size defines the size in M/G/T or MiB/GiB/TiB.
                              type: string
                            vg:
                              description: VG defines the vg name.
                              type: string
                          required:
                          - filesystem
                          - mount
                          - name
                          - size
                          - vg
                          type: object
                        type: array
                      partitions:
                        description: Partitions defines the additional Partitions
                          to be created.
                        items:
                          description: Partition defines the additional Partitions
                            to be created.
                          properties:
                            fileSystem:
                              description: FileSystem can be ext2, ext3, ext4, btrfs,
                                reiserfs, xfs, swap or name of the LVM volume group
                                (VG), if this PART is a VG.
                              type: string
                            mount:
                              description: 'Mount defines the mount path for this
                                filesystem. or keyword ''lvm'' to use this PART as
                                volume group (VG) for LVM identifier ''btrfs.X'' to
                                use this PART as volume for btrfs subvolumes. X can
                                be replaced with a unique alphanumeric keyword. NOTE:
                                no support btrfs multi-device volumes'
                              type: string
                            size:
                              description: Size can use the keyword 'all' to assign
                                all the remaining space of the drive to the last partition.
                                can use M/G/T for unit specification in MiB/GiB/TiB
                              type: string
                          required:
                          - fileSystem
                          - mount
                          - size
                          type: object
                        type: array
                      postInstallScript:
                        description: PostInstallScript is used for configuring commands
                          which should be executed after installimage. It is passed
                          along with the installimage command.
                        type: string
                      swraid:
                        default: 0
                        description: Swraid defines the SWRAID in InstallImage.
                        enum:
                        - 0
                        - 1
                        type: integer
                      swraidLevel:
                        default: 1
                        description: SwraidLevel defines the SWRAIDLEVEL in InstallImage.
                          Ignored if Swraid=0.
                        enum:
                        - 0
                        - 1
                        - 5
                        - 6
                        - 10
                        type: integer
                    required:
                    - image
                    - partitions
                    type: object
                  ipv4:
                    description: IPv4 address of server.
                    type: string
                  ipv6:
                    description: IPv6 address of server.
                    type: string
                  lastUpdated:
                    description: the last error message reported by the provisioning
                      subsystem.
                    format: date-time
                    type: string
                  provisioningState:
                    description: Information tracked by the provisioner.
                    type: string
                  rebootTypes:
                    description: RebootTypes is a list of all available reboot types
                      for API reboots
                    items:
                      description: RebootType defines the reboot type of servers via
                        Hetzner robot API.
                      type: string
                    type: array
                  rebooted:
                    description: Rebooted shows whether the server is currently being
                      rebooted.
                    type: boolean
                  sshSpec:
                    description: SSHSpec defines specs for SSH.
                    properties:
                      portAfterCloudInit:
                        description: PortAfterCloudInit specifies the port that has
                          to be used to connect to the machine after cloud init.
                        type: integer
                      portAfterInstallImage:
                        default: 22
                        description: PortAfterInstallImage specifies the port that
                          has to be used to connect to the machine after install image.
                        type: integer
                      secretRef:
                        description: SecretRef gives reference to the secret.
                        properties:
                          key:
                            description: SSHSecretKeyRef defines the key name of the
                              SSHSecret.
                            properties:
                              name:
                                type: string
                              privateKey:
                                type: string
                              publicKey:
                                type: string
                            required:
                            - name
                            - privateKey
                            - publicKey
                            type: object
                          name:
                            type: string
                        required:
                        - key
                        - name
                        type: object
                    required:
                    - secretRef
                    type: object
                  sshStatus:
                    description: HetznerRobotSSHKey contains name and fingerprint
                      of the in HetznerCluster spec specified SSH key.
                    properties:
                      currentOS:
                        description: CurrentOS gives information about the secret
                          where the os ssh key is stored.
                        properties:
                          credentials:
                            description: SecretReference represents a Secret Reference.
                              It has enough information to retrieve secret in any
                              namespace
                            properties:
                              name:
                                description: name is unique within a namespace to
                                  reference a secret resource.
                                type: string
                              namespace:
                                description: namespace defines the space within which
                                  the secret name must be unique.
                                type: string
                            type: object
                            x-kubernetes-map-type: atomic
                          credentialsDataHash:
                            format: byte
                            type: string
                          credentialsVersion:
                            type: string
                        type: object
                      currentRescue:
                        description: CurrentRescue gives information about the secret
                          where the rescue ssh key is stored.
                        properties:
                          credentials:
                            description: SecretReference represents a Secret Reference.
                              It has enough information to retrieve secret in any
                              namespace
                            properties:
                              name:
                                description: name is unique within a namespace to
                                  reference a secret resource.
                                type: string
                              namespace:
                                description: namespace defines the space within which
                                  the secret name must be unique.
                                type: string
                            type: object
                            x-kubernetes-map-type: atomic
                          credentialsDataHash:
                            format: byte
                            type: string
                          credentialsVersion:
                            type: string
                        type: object
                      osKey:
                        description: OSKey contains name and fingerprint of the in
                          HetznerBareMetalMachine spec specified SSH key.
                        properties:
                          fingerprint:
                            description: Fingerprint of SSH key - added by controller
                            type: string
                          name:
                            description: Name of SSH key
                            minLength: 1
                            type: string
                        required:
                        - name
                        type: object
                      rescueKey:
                        description: RescueKey contains name and fingerprint of the
                          in HetznerCluster spec specified SSH key.
                        properties:
                          fingerprint:
                            description: Fingerprint of SSH key - added by controller
                            type: string
                          name:
                            description: Name of SSH key
                            minLength: 1
                            type: string
                        required:
                        - name
                        type: object
                    type: object
                  userData:
                    description: UserData holds the reference to the Secret containing
                      the user data to be passed to the host before it boots.
                    properties:
                      name:
                        description: name is unique within a namespace to reference
                          a secret resource.
                        type: string
                      namespace:
                        description: namespace defines the space within which the
                          secret name must be unique.
                        type: string
                    type: object
                    x-kubernetes-map-type: atomic
                required:
                - errorCount
                - hetznerClusterRef
                type: object
            required:
            - serverID
            type: object
          status:
            description: HetznerBareMetalHostStatus defines the observed state of
              HetznerBareMetalHost.
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    cert-manager.io/inject-ca-from: caph-system/caph-serving-cert
    controller-gen.kubebuilder.io/version: v0.12.0
  creationTimestamp: null
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    cluster.x-k8s.io/v1beta1: v1beta1
    clusterctl.cluster.x-k8s.io: ""
  name: hetznerbaremetalmachines.infrastructure.cluster.x-k8s.io
spec:
  conversion:
    strategy: Webhook
    webhook:
      clientConfig:
        service:
          name: caph-webhook-service
          namespace: caph-system
          path: /convert
      conversionReviewVersions:
      - v1
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: HetznerBareMetalMachine
    listKind: HetznerBareMetalMachineList
    plural: hetznerbaremetalmachines
    shortNames:
    - hbm
    - hbmm
    - hbmachine
    - hbmachines
    - hetznerbaremetalm
    - hetznerbaremetalmachine
    singular: hetznerbaremetalmachine
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Cluster to which this HetznerBareMetalMachine belongs
      jsonPath: .metadata.labels.cluster\.x-k8s\.io/cluster-name
      name: Cluster
      type: string
    - description: HetznerBareMetalHost
      jsonPath: .metadata.annotations.infrastructure\.cluster\.x-k8s\.io/HetznerBareMetalHost
      name: Host
      type: string
    - description: Machine object which owns with this HetznerBareMetalMachine
      jsonPath: .metadata.ownerReferences[?(@.kind=="Machine")].name
      name: Machine
      type: string
    - description: HetznerBareMetalMachine status such as Pending/Provisioning/Running
        etc
      jsonPath: .status.phase
      name: Phase
      type: string
    - description: Time duration since creation of HetznerBareMetalMachine
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    - jsonPath: .status.conditions[?(@.type=='Ready')].reason
      name: Reason
      type: string
    - jsonPath: .status.conditions[?(@.type=='Ready')].message
      name: Message
      type: string
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: HetznerBareMetalMachine is the Schema for the hetznerbaremetalmachines
          API.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: HetznerBareMetalMachineSpec defines the desired state of
              HetznerBareMetalMachine.
            properties:
              hostSelector:
                description: HostSelector specifies matching criteria for labels on
                  HetznerBareMetalHosts. This is used to limit the set of HetznerBareMetalHost
                  objects considered for claiming for a HetznerBareMetalMachine.
                properties:
                  matchExpressions:
                    description: Label match expressions that must be true on a chosen
                      BareMetalHost
                    items:
                      description: HostSelectorRequirement defines a requirement used
                        for MatchExpressions to select host machines.
                      properties:
                        key:
                          type: string
                        operator:
                          description: Operator represents a key/field's relationship
                            to value(s). See labels.Requirement and fields.Requirement
                            for more details.
                          type: string
                        values:
                          items:
                            type: string
                          type: array
                      required:
                      - key
                      - operator
                      - values
                      type: object
                    type: array
                  matchLabels:
                    additionalProperties:
                      type: string
                    description: Key/value pairs of labels that must exist on a chosen
                      BareMetalHost
                    type: object
                type: object
              installImage:
                description: InstallImage is the configuration which is used for the
                  autosetup configuration for installing an OS via InstallImage.
                properties:
                  btrfsDefinitions:
                    description: BTRFSDefinitions defines the btrfs subvolume definitions
                      to be created.
                    items:
                      description: BTRFSDefinition defines the btrfs subvolume definitions
                        to be created.
                      properties:
                        mount:
                          description: Mount defines the mountpath.
                          type: string
                        subvolume:
                          description: SubVolume defines the subvolume name.
                          type: string
                        volume:
                          description: Volume defines the btrfs volume name.
                          type: string
                      required:
                      - mount
                      - subvolume
                      - volume
                      type: object
                    type: array
                  image:
                    description: Image is the image to be provisioned.
                    properties:
                      name:
                        description: Name defines the archive name after download.
                          This has to be a valid name for Installimage.
                        type: string
                      path:
                        description: Path is the local path for a preinstalled image
                          from upstream.
                        type: string
                      url:
                        description: URL defines the remote URL for downloading a
                          tar, tar.gz, tar.bz, tar.bz2, tar.xz, tgz, tbz, txz image.
                        type: string
                    type: object
                  logicalVolumeDefinitions:
                    description: LVMDefinitions defines the logical volume definitions
                      to be created.
                    items:
                      description: LVMDefinition defines the logical volume definitions
                        to be created.
                      properties:
                        filesystem:
                          description: FileSystem defines the filesystem for this
                            logical volume.
                          type: string
                        mount:
                          description: Mount defines the mountpath.
                          type: string
                        name:
                          description: Name defines the volume name.
                          type: string
                        size:
                          description: Size defines the size in M/G/T or MiB/GiB/TiB.
                          type: string
                        vg:
                          description: VG defines the vg name.
                          type: string
                      required:
                      - filesystem
                      - mount
                      - name
                      - size
                      - vg
                      type: object
                    type: array
                  partitions:
                    description: Partitions defines the additional Partitions to be
                      created.
                    items:
                      description: Partition defines the additional Partitions to
                        be created.
                      properties:
                        fileSystem:
                          description: FileSystem can be ext2, ext3, ext4, btrfs,
                            reiserfs, xfs, swap or name of the LVM volume group (VG),
                            if this PART is a VG.
                          type: string
                        mount:
                          description: 'Mount defines the mount path for this filesystem.
                            or keyword ''lvm'' to use this PART as volume group (VG)
                            for LVM identifier ''btrfs.X'' to use this PART as volume
                            for btrfs subvolumes. X can be replaced with a unique
                            alphanumeric keyword. NOTE: no support btrfs multi-device
                            volumes'
                          type: string
                        size:
                          description: Size can use the keyword 'all' to assign all
                            the remaining space of the drive to the last partition.
                            can use M/G/T for unit specification in MiB/GiB/TiB
                          type: string
                      required:
                      - fileSystem
                      - mount
                      - size
                      type: object
                    type: array
                  postInstallScript:
                    description: PostInstallScript is used for configuring commands
                      which should be executed after installimage. It is passed along
                      with the installimage command.
                    type: string
                  swraid:
                    default: 0
                    description: Swraid defines the SWRAID in InstallImage.
                    enum:
                    - 0
                    - 1
                    type: integer
                  swraidLevel:
                    default: 1
                    description: SwraidLevel defines the SWRAIDLEVEL in InstallImage.
                      Ignored if Swraid=0.
                    enum:
                    - 0
                    - 1
                    - 5
                    - 6
                    - 10
                    type: integer
                required:
                - image
                - partitions
                type: object
              providerID:
                description: ProviderID will be the hetznerbaremetalmachine in ProviderID
                  format (hcloud://<server-id>)
                type: string
              sshSpec:
                description: SSHSpec gives a reference on the secret where SSH details
                  are specified as well as ports for ssh.
                properties:
                  portAfterCloudInit:
                    description: PortAfterCloudInit specifies the port that has to
                      be used to connect to the machine after cloud init.
                    type: integer
                  portAfterInstallImage:
                    default: 22
                    description: PortAfterInstallImage specifies the port that has
                      to be used to connect to the machine after install image.
                    type: integer
                  secretRef:
                    description: SecretRef gives reference to the secret.
                    properties:
                      key:
                        description: SSHSecretKeyRef defines the key name of the SSHSecret.
                        properties:
                          name:
                            type: string
                          privateKey:
                            type: string
                          publicKey:
                            type: string
                        required:
                        - name
                        - privateKey
                        - publicKey
                        type: object
                      name:
                        type: string
                    required:
                    - key
                    - name
                    type: object
                required:
                - secretRef
                type: object
            required:
            - installImage
            type: object
          status:
            description: HetznerBareMetalMachineStatus defines the observed state
              of HetznerBareMetalMachine.
            properties:
              addresses:
                description: Addresses is a list of addresses assigned to the machine.
                  This field is copied from the infrastructure provider reference.
                items:
                  description: MachineAddress contains information for the node's
                    address.
                  properties:
                    address:
                      description: The machine address.
                      type: string
                    type:
                      description: Machine address type, one of Hostname, ExternalIP,
                        InternalIP, ExternalDNS or InternalDNS.
                      type: string
                  required:
                  - address
                  - type
                  type: object
                type: array
              conditions:
                description: Conditions defines current service state of the HetznerBareMetalMachine.
                items:
                  description: Condition defines an observation of a Cluster API resource
                    operational state.
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned from one status
                        to another. This should be when the underlying condition changed.
                        If that is not known, then using the time when the API field
                        changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: A human readable message indicating details about
                        the transition. This field may be empty.
                      type: string
                    reason:
                      description: The reason for the condition's last transition
                        in CamelCase. The specific API may choose whether or not this
                        field is considered a guaranteed API. This field may not be
                        empty.
                      type: string
                    severity:
                      description: Severity provides an explicit classification of
                        Reason code, so the users or machines can immediately understand
                        the current situation and act accordingly. The Severity field
                        MUST be set only when Status=False.
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: Type of condition in CamelCase or in foo.example.com/CamelCase.
                        Many .condition.type values are consistent across resources
                        like Available, but because arbitrary conditions can be useful
                        (see .node.status.conditions), the ability to deconflict is
                        important.
                      type: string
                  required:
                  - lastTransitionTime
                  - status
                  - type
                  type: object
                type: array
              failureMessage:
                description: FailureMessage will be set in the event that there is
                  a terminal problem.
                type: string
              failureReason:
                description: FailureReason will be set in the event that there is
                  a terminal problem.
                type: string
              lastUpdated:
                description: LastUpdated identifies when this status was last observed.
                format: date-time
                type: string
              phase:
                description: Phase represents the current phase of HetznerBareMetalMachineStatus
                  actuation. E.g. Pending, Running, Terminating, Failed etc.
                type: string
              ready:
                description: Ready is the state of the hetznerbaremetalmachine.
                type: boolean
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    cert-manager.io/inject-ca-from: caph-system/caph-serving-cert
    controller-gen.kubebuilder.io/version: v0.12.0
  creationTimestamp: null
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    cluster.x-k8s.io/v1beta1: v1beta1
    clusterctl.cluster.x-k8s.io: ""
  name: hetznerbaremetalmachinetemplates.infrastructure.cluster.x-k8s.io
spec:
  conversion:
    strategy: Webhook
    webhook:
      clientConfig:
        service:
          name: caph-webhook-service
          namespace: caph-system
          path: /convert
      conversionReviewVersions:
      - v1
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: HetznerBareMetalMachineTemplate
    listKind: HetznerBareMetalMachineTemplateList
    plural: hetznerbaremetalmachinetemplates
    shortNames:
    - hbmt
    - hbmmtemplate
    - hetznerbaremetalmachinetemplates
    - hetznerbaremetalmachinetemplate
    singular: hetznerbaremetalmachinetemplate
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Time duration since creation of HetznerBareMetalMachineTemplate
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: HetznerBareMetalMachineTemplate is the Schema for the hetznerbaremetalmachinetemplates
          API.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: HetznerBareMetalMachineTemplateSpec defines the desired state
              of HetznerBareMetalMachineTemplate.
            properties:
              template:
                description: HetznerBareMetalMachineTemplateResource describes the
                  data needed to create a HetznerBareMetalMachine from a template.
                properties:
                  spec:
                    description: Spec is the specification of the desired behavior
                      of the machine.
                    properties:
                      hostSelector:
                        description: HostSelector specifies matching criteria for
                          labels on HetznerBareMetalHosts. This is used to limit the
                          set of HetznerBareMetalHost objects considered for claiming
                          for a HetznerBareMetalMachine.
                        properties:
                          matchExpressions:
                            description: Label match expressions that must be true
                              on a chosen BareMetalHost
                            items:
                              description: HostSelectorRequirement defines a requirement
                                used for MatchExpressions to select host machines.
                              properties:
                                key:
                                  type: string
                                operator:
                                  description: Operator represents a key/field's relationship
                                    to value(s). See labels.Requirement and fields.Requirement
                                    for more details.
                                  type: string
                                values:
                                  items:
                                    type: string
                                  type: array
                              required:
                              - key
                              - operator
                              - values
                              type: object
                            type: array
                          matchLabels:
                            additionalProperties:
                              type: string
                            description: Key/value pairs of labels that must exist
                              on a chosen BareMetalHost
                            type: object
                        type: object
                      installImage:
                        description: InstallImage is the configuration which is used
                          for the autosetup configuration for installing an OS via
                          InstallImage.
                        properties:
                          btrfsDefinitions:
                            description: BTRFSDefinitions defines the btrfs subvolume
                              definitions to be created.
                            items:
                              description: BTRFSDefinition defines the btrfs subvolume
                                definitions to be created.
                              properties:
                                mount:
                                  description: Mount defines the mountpath.
                                  type: string
                                subvolume:
                                  description: SubVolume defines the subvolume name.
                                  type: string
                                volume:
                                  description: Volume defines the btrfs volume name.
                                  type: string
                              required:
                              - mount
                              - subvolume
                              - volume
                              type: object
                            type: array
                          image:
                            description: Image is the image to be provisioned.
                            properties:
                              name:
                                description: Name defines the archive name after download.
                                  This has to be a valid name for Installimage.
                                type: string
                              path:
                                description: Path is the local path for a preinstalled
                                  image from upstream.
                                type: string
                              url:
                                description: URL defines the remote URL for downloading
                                  a tar, tar.gz, tar.bz, tar.bz2, tar.xz, tgz, tbz,
                                  txz image.
                                type: string
                            type: object
                          logicalVolumeDefinitions:
                            description: LVMDefinitions defines the logical volume
                              definitions to be created.
                            items:
                              description: LVMDefinition defines the logical volume
                                definitions to be created.
                              properties:
                                filesystem:
                                  description: FileSystem defines the filesystem for
                                    this logical volume.
                                  type: string
                                mount:
                                  description: Mount defines the mountpath.
                                  type: string
                                name:
                                  description: Name defines the volume name.
                                  type: string
                                size:
                                  description: Size defines the size in M/G/T or MiB/GiB/TiB.
                                  type: string
                                vg:
                                  description: VG defines the vg name.
                                  type: string
                              required:
                              - filesystem
                              - mount
                              - name
                              - size
                              - vg
                              type: object
                            type: array
                          partitions:
                            description: Partitions defines the additional Partitions
                              to be created.
                            items:
                              description: Partition defines the additional Partitions
                                to be created.
                              properties:
                                fileSystem:
                                  description: FileSystem can be ext2, ext3, ext4,
                                    btrfs, reiserfs, xfs, swap or name of the LVM
                                    volume group (VG), if this PART is a VG.
                                  type: string
                                mount:
                                  description: 'Mount defines the mount path for this
                                    filesystem. or keyword ''lvm'' to use this PART
                                    as volume group (VG) for LVM identifier ''btrfs.X''
                                    to use this PART as volume for btrfs subvolumes.
                                    X can be replaced with a unique alphanumeric keyword.
                                    NOTE: no support btrfs multi-device volumes'
                                  type: string
                                size:
                                  description: Size can use the keyword 'all' to assign
                                    all the remaining space of the drive to the last
                                    partition. can use M/G/T for unit specification
                                    in MiB/GiB/TiB
                                  type: string
                              required:
                              - fileSystem
                              - mount
                              - size
                              type: object
                            type: array
                          postInstallScript:
                            description: PostInstallScript is used for configuring
                              commands which should be executed after installimage.
                              It is passed along with the installimage command.
                            type: string
                          swraid:
                            default: 0
                            description: Swraid defines the SWRAID in InstallImage.
                            enum:
                            - 0
                            - 1
                            type: integer
                          swraidLevel:
                            default: 1
                            description: SwraidLevel defines the SWRAIDLEVEL in InstallImage.
                              Ignored if Swraid=0.
                            enum:
                            - 0
                            - 1
                            - 5
                            - 6
                            - 10
                            type: integer
                        required:
                        - image
                        - partitions
                        type: object
                      providerID:
                        description: ProviderID will be the hetznerbaremetalmachine
                          in ProviderID format (hcloud://<server-id>)
                        type: string
                      sshSpec:
                        description: SSHSpec gives a reference on the secret where
                          SSH details are specified as well as ports for ssh.
                        properties:
                          portAfterCloudInit:
                            description: PortAfterCloudInit specifies the port that
                              has to be used to connect to the machine after cloud
                              init.
                            type: integer
                          portAfterInstallImage:
                            default: 22
                            description: PortAfterInstallImage specifies the port
                              that has to be used to connect to the machine after
                              install image.
                            type: integer
                          secretRef:
                            description: SecretRef gives reference to the secret.
                            properties:
                              key:
                                description: SSHSecretKeyRef defines the key name
                                  of the SSHSecret.
                                properties:
                                  name:
                                    type: string
                                  privateKey:
                                    type: string
                                  publicKey:
                                    type: string
                                required:
                                - name
                                - privateKey
                                - publicKey
                                type: object
                              name:
                                type: string
                            required:
                            - key
                            - name
                            type: object
                        required:
                        - secretRef
                        type: object
                    required:
                    - installImage
                    type: object
                required:
                - spec
                type: object
            required:
            - template
            type: object
        type: object
    served: true
    storage: true
    subresources: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    cert-manager.io/inject-ca-from: caph-system/caph-serving-cert
    controller-gen.kubebuilder.io/version: v0.12.0
  creationTimestamp: null
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    cluster.x-k8s.io/v1beta1: v1beta1
    clusterctl.cluster.x-k8s.io: ""
  name: hetznerbaremetalremediations.infrastructure.cluster.x-k8s.io
spec:
  conversion:
    strategy: Webhook
    webhook:
      clientConfig:
        service:
          name: caph-webhook-service
          namespace: caph-system
          path: /convert
      conversionReviewVersions:
      - v1
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: HetznerBareMetalRemediation
    listKind: HetznerBareMetalRemediationList
    plural: hetznerbaremetalremediations
    shortNames:
    - hbr
    - hbremediation
    singular: hetznerbaremetalremediation
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Type of the remediation strategy
      jsonPath: .spec.strategy.type
      name: Strategy
      type: string
    - description: How many times remediation controller should attempt to remediate
        the host
      jsonPath: .spec.strategy.retryLimit
      name: Retry limit
      type: string
    - description: Timeout for the remediation
      jsonPath: .spec.strategy.timeout
      name: Timeout
      type: string
    - description: Phase of the remediation
      jsonPath: .status.phase
      name: Phase
      type: string
    - description: Timestamp of the last remediation attempt
      jsonPath: .status.lastRemediated
      name: Last Remediated
      type: string
    - description: How many times remediation controller has tried to remediate the
        node
      jsonPath: .status.retryCount
      name: Retry count
      type: string
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: HetznerBareMetalRemediation is the Schema for the hetznerbaremetalremediations
          API.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: HetznerBareMetalRemediationSpec defines the desired state
              of HetznerBareMetalRemediation.
            properties:
              strategy:
                description: Strategy field defines remediation strategy.
                properties:
                  retryLimit:
                    description: Sets maximum number of remediation retries.
                    type: integer
                  timeout:
                    description: Sets the timeout between remediation retries.
                    type: string
                  type:
                    default: Reboot
                    description: Type of remediation.
                    type: string
                required:
                - timeout
                type: object
            type: object
          status:
            description: HetznerBareMetalRemediationStatus defines the observed state
              of HetznerBareMetalRemediation.
            properties:
              lastRemediated:
                description: LastRemediated identifies when the host was last remediated
                format: date-time
                type: string
              phase:
                description: Phase represents the current phase of machine remediation.
                  E.g. Pending, Running, Done etc.
                type: string
              retryCount:
                description: RetryCount can be used as a counter during the remediation.
                  Field can hold number of reboots etc.
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    cert-manager.io/inject-ca-from: caph-system/caph-serving-cert
    controller-gen.kubebuilder.io/version: v0.12.0
  creationTimestamp: null
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    cluster.x-k8s.io/v1beta1: v1beta1
    clusterctl.cluster.x-k8s.io: ""
  name: hetznerbaremetalremediationtemplates.infrastructure.cluster.x-k8s.io
spec:
  conversion:
    strategy: Webhook
    webhook:
      clientConfig:
        service:
          name: caph-webhook-service
          namespace: caph-system
          path: /convert
      conversionReviewVersions:
      - v1
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: HetznerBareMetalRemediationTemplate
    listKind: HetznerBareMetalRemediationTemplateList
    plural: hetznerbaremetalremediationtemplates
    shortNames:
    - hbrt
    - hbremediationtemplate
    - hbremediationtemplates
    - hetznerbaremetalrt
    - hetznerbaremetalremediationtemplate
    singular: hetznerbaremetalremediationtemplate
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Type of the remediation strategy
      jsonPath: .spec.template.spec.strategy.type
      name: Strategy
      type: string
    - description: How many times remediation controller should attempt to remediate
        the host
      jsonPath: .spec.template.spec.strategy.retryLimit
      name: Retry limit
      type: string
    - description: Timeout for the remediation
      jsonPath: .spec.template.spec.strategy.timeout
      name: Timeout
      type: string
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: HetznerBareMetalRemediationTemplate is the Schema for the hetznerbaremetalremediationtemplates
          API.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: HetznerBareMetalRemediationTemplateSpec defines the desired
              state of HetznerBareMetalRemediationTemplate.
            properties:
              template:
                description: HetznerBareMetalRemediationTemplateResource describes
                  the data needed to create a HetznerBareMetalRemediation from a template.
                properties:
                  spec:
                    description: Spec is the specification of the desired behavior
                      of the HetznerBareMetalRemediation.
                    properties:
                      strategy:
                        description: Strategy field defines remediation strategy.
                        properties:
                          retryLimit:
                            description: Sets maximum number of remediation retries.
                            type: integer
                          timeout:
                            description: Sets the timeout between remediation retries.
                            type: string
                          type:
                            default: Reboot
                            description: Type of remediation.
                            type: string
                        required:
                        - timeout
                        type: object
                    type: object
                required:
                - spec
                type: object
            required:
            - template
            type: object
          status:
            description: HetznerBareMetalRemediationTemplateStatus defines the observed
              state of HetznerBareMetalRemediationTemplate.
            properties:
              status:
                description: HetznerBareMetalRemediationStatus defines the observed
                  state of HetznerBareMetalRemediation
                properties:
                  lastRemediated:
                    description: LastRemediated identifies when the host was last
                      remediated
                    format: date-time
                    type: string
                  phase:
                    description: Phase represents the current phase of machine remediation.
                      E.g. Pending, Running, Done etc.
                    type: string
                  retryCount:
                    description: RetryCount can be used as a counter during the remediation.
                      Field can hold number of reboots etc.
                    type: integer
                type: object
            required:
            - status
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    cert-manager.io/inject-ca-from: caph-system/caph-serving-cert
    controller-gen.kubebuilder.io/version: v0.12.0
  creationTimestamp: null
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    cluster.x-k8s.io/v1beta1: v1beta1
    clusterctl.cluster.x-k8s.io: ""
  name: hetznerclusters.infrastructure.cluster.x-k8s.io
spec:
  conversion:
    strategy: Webhook
    webhook:
      clientConfig:
        service:
          name: caph-webhook-service
          namespace: caph-system
          path: /convert
      conversionReviewVersions:
      - v1
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: HetznerCluster
    listKind: HetznerClusterList
    plural: hetznerclusters
    shortNames:
    - capihc
    singular: hetznercluster
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Cluster to which this HetznerCluster belongs
      jsonPath: .metadata.labels.cluster\.x-k8s\.io/cluster-name
      name: Cluster
      type: string
    - description: Cluster infrastructure is ready for Nodes
      jsonPath: .status.ready
      name: Ready
      type: string
    - description: API Endpoint
      jsonPath: .spec.controlPlaneEndpoint
      name: Endpoint
      priority: 1
      type: string
    - description: Control plane regions
      jsonPath: .spec.controlPlaneRegions
      name: Regions
      type: string
    - description: Indicates if private network is enabled.
      jsonPath: .spec.hcloudNetwork.enabled
      name: Network enabled
      type: boolean
    - jsonPath: .status.conditions[?(@.type=='Ready')].reason
      name: Reason
      type: string
    - jsonPath: .status.conditions[?(@.type=='Ready')].message
      name: Message
      type: string
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: HetznerCluster is the Schema for the hetznercluster API.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: HetznerClusterSpec defines the desired state of HetznerCluster.
            properties:
              controlPlaneEndpoint:
                description: ControlPlaneEndpoint represents the endpoint used to
                  communicate with the control plane.
                properties:
                  host:
                    description: The hostname on which the API server is serving.
                    type: string
                  port:
                    description: The port on which the API server is serving.
                    format: int32
                    type: integer
                required:
                - host
                - port
                type: object
              controlPlaneLoadBalancer:
                description: ControlPlaneLoadBalancer is optional configuration for
                  customizing control plane behavior. Naming convention is from upstream
                  cluster-api project.
                properties:
                  algorithm:
                    allOf:
                    - enum:
                      - round_robin
                      - least_connections
                    - enum:
                      - round_robin
                      - least_connections
                    default: round_robin
                    description: Could be round_robin or least_connection. The default
                      value is "round_robin".
                    type: string
                  enabled:
                    default: true
                    type: boolean
                  extraServices:
                    description: Defines how traffic will be routed from the Load
                      Balancer to your target server.
                    items:
                      description: LoadBalancerServiceSpec defines a Loadbalancer
                        Target.
                      properties:
                        destinationPort:
                          description: DestinationPort defines the port on the server.
                          maximum: 65535
                          minimum: 1
                          type: integer
                        listenPort:
                          description: ListenPort, i.e. source port, defines the incoming
                            port open on the loadbalancer.
                          maximum: 65535
                          minimum: 1
                          type: integer
                        protocol:
                          description: Protocol specifies the supported Loadbalancer
                            Protocol.
                          enum:
                          - http
                          - https
                          - tcp
                          type: string
                      type: object
                    type: array
                  name:
                    type: string
                  port:
                    default: 6443
                    description: API Server port. It must be valid ports range (1-65535).
                      If omitted, default value is 6443.
                    maximum: 65535
                    minimum: 1
                    type: integer
                  region:
                    description: Region contains the name of the HCloud location the
                      load balancer is running.
                    enum:
                    - fsn1
                    - hel1
                    - nbg1
                    - ash
                    - hil
                    type: string
                  type:
                    default: lb11
                    description: Loadbalancer type
                    enum:
                    - lb11
                    - lb21
                    - lb31
                    type: string
                type: object
              controlPlaneRegions:
                description: ControlPlaneRegion consists of a list of HCloud Regions
                  (fsn, nbg, hel). Because HCloud Networks have a very low latency
                  we could assume in some use-cases that a region is behaving like
                  a zone https://kubernetes.io/docs/reference/labels-annotations-taints/#topologykubernetesiozone
                items:
                  description: Region is a Hetzner Location
                  enum:
                  - fsn1
                  - hel1
                  - nbg1
                  - ash
                  - hil
                  type: string
                type: array
              hcloudNetwork:
                description: HCloudNetworkSpec defines the Network for Hetzner Cloud.
                  If left empty no private Network is configured.
                properties:
                  cidrBlock:
                    default: 10.0.0.0/16
                    description: CIDRBlock defines the cidrBlock of the HCloud Network.
                      A Subnet is required.
                    type: string
                  enabled:
                    description: Enabled defines whether the network should be enabled
                      or not
                    type: boolean
                  networkZone:
                    default: eu-central
                    description: NetworkZone specifies the HCloud network zone of
                      the private network.
                    enum:
                    - eu-central
                    - us-east
                    - us-west
                    type: string
                  subnetCidrBlock:
                    default: 10.0.0.0/24
                    description: SubnetCIDRBlock defines the cidrBlock for the subnet
                      of the HCloud Network.
                    type: string
                required:
                - enabled
                type: object
              hcloudPlacementGroups:
                items:
                  description: HCloudPlacementGroupSpec defines a PlacementGroup.
                  properties:
                    name:
                      minLength: 1
                      type: string
                    type:
                      default: spread
                      enum:
                      - spread
                      type: string
                  required:
                  - name
                  type: object
                type: array
              hetznerSecretRef:
                description: HetznerSecretRef is a reference to a token to be used
                  when reconciling this cluster. This is generated in the security
                  section under API TOKENS. Read & write is necessary.
                properties:
                  key:
                    description: HetznerSecretKeyRef defines the key name of the HetznerSecret.
                      Need to specify either HCloudToken or both HetznerRobotUser
                      and HetznerRobotPassword.
                    properties:
                      hcloudToken:
                        type: string
                      hetznerRobotPassword:
                        type: string
                      hetznerRobotUser:
                        type: string
                    type: object
                  name:
                    type: string
                required:
                - key
                - name
                type: object
              sshKeys:
                description: SSHKeys are cluster wide. Valid values are a valid SSH
                  key name.
                properties:
                  hcloud:
                    items:
                      description: SSHKey defines the SSHKey for HCloud.
                      properties:
                        fingerprint:
                          description: Fingerprint of SSH key - added by controller
                          type: string
                        name:
                          description: Name of SSH key
                          minLength: 1
                          type: string
                      required:
                      - name
                      type: object
                    type: array
                  robotRescueSecretRef:
                    description: SSHSecretRef defines the secret containing all information
                      of the SSH key used for Hetzner robot.
                    properties:
                      key:
                        description: SSHSecretKeyRef defines the key name of the SSHSecret.
                        properties:
                          name:
                            type: string
                          privateKey:
                            type: string
                          publicKey:
                            type: string
                        required:
                        - name
                        - privateKey
                        - publicKey
                        type: object
                      name:
                        type: string
                    required:
                    - key
                    - name
                    type: object
                type: object
            required:
            - controlPlaneRegions
            - hetznerSecretRef
            - sshKeys
            type: object
          status:
            description: HetznerClusterStatus defines the observed state of HetznerCluster.
            properties:
              conditions:
                description: Conditions provide observations of the operational state
                  of a Cluster API resource.
                items:
                  description: Condition defines an observation of a Cluster API resource
                    operational state.
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned from one status
                        to another. This should be when the underlying condition changed.
                        If that is not known, then using the time when the API field
                        changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: A human readable message indicating details about
                        the transition. This field may be empty.
                      type: string
                    reason:
                      description: The reason for the condition's last transition
                        in CamelCase. The specific API may choose whether or not this
                        field is considered a guaranteed API. This field may not be
                        empty.
                      type: string
                    severity:
                      description: Severity provides an explicit classification of
                        Reason code, so the users or machines can immediately understand
                        the current situation and act accordingly. The Severity field
                        MUST be set only when Status=False.
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: Type of condition in CamelCase or in foo.example.com/CamelCase.
                        Many .condition.type values are consistent across resources
                        like Available, but because arbitrary conditions can be useful
                        (see .node.status.conditions), the ability to deconflict is
                        important.
                      type: string
                  required:
                  - lastTransitionTime
                  - status
                  - type
                  type: object
                type: array
              controlPlaneLoadBalancer:
                description: LoadBalancerStatus defines the obeserved state of the
                  control plane loadbalancer.
                properties:
                  id:
                    format: int64
                    type: integer
                  internalIP:
                    type: string
                  ipv4:
                    type: string
                  ipv6:
                    type: string
                  protected:
                    type: boolean
                  targets:
                    items:
                      description: LoadBalancerTarget defines the target of a load
                        balancer.
                      properties:
                        ip:
                          type: string
                        serverID:
                          format: int64
                          type: integer
                        type:
                          description: LoadBalancerTargetType defines the target type.
                          enum:
                          - server
                          - ip
                          type: string
                      required:
                      - type
                      type: object
                    type: array
                type: object
              failureDomains:
                additionalProperties:
                  description: FailureDomainSpec is the Schema for Cluster API failure
                    domains. It allows controllers to understand how many failure
                    domains a cluster can optionally span across.
                  properties:
                    attributes:
                      additionalProperties:
                        type: string
                      description: Attributes is a free form map of attributes an
                        infrastructure provider might use or require.
                      type: object
                    controlPlane:
                      description: ControlPlane determines if this failure domain
                        is suitable for use by control plane machines.
                      type: boolean
                  type: object
                description: FailureDomains is a slice of FailureDomains.
                type: object
              hcloudPlacementGroups:
                items:
                  description: HCloudPlacementGroupStatus returns the status of a
                    Placementgroup.
                  properties:
                    id:
                      format: int64
                      type: integer
                    name:
                      type: string
                    servers:
                      items:
                        format: int64
                        type: integer
                      type: array
                    type:
                      type: string
                  type: object
                type: array
              networkStatus:
                description: NetworkStatus defines the observed state of the HCloud
                  Private Network.
                properties:
                  attachedServers:
                    items:
                      format: int64
                      type: integer
                    type: array
                  id:
                    format: int64
                    type: integer
                type: object
              ready:
                default: false
                type: boolean
            required:
            - ready
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    cert-manager.io/inject-ca-from: caph-system/caph-serving-cert
    controller-gen.kubebuilder.io/version: v0.12.0
  creationTimestamp: null
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    cluster.x-k8s.io/v1beta1: v1beta1
    clusterctl.cluster.x-k8s.io: ""
  name: hetznerclustertemplates.infrastructure.cluster.x-k8s.io
spec:
  conversion:
    strategy: Webhook
    webhook:
      clientConfig:
        service:
          name: caph-webhook-service
          namespace: caph-system
          path: /convert
      conversionReviewVersions:
      - v1
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: HetznerClusterTemplate
    listKind: HetznerClusterTemplateList
    plural: hetznerclustertemplates
    shortNames:
    - capihct
    singular: hetznerclustertemplate
  scope: Namespaced
  versions:
  - name: v1beta1
    schema:
      openAPIV3Schema:
        description: HetznerClusterTemplate is the Schema for the hetznerclustertemplates
          API.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: HetznerClusterTemplateSpec defines the desired state of HetznerClusterTemplate.
            properties:
              template:
                description: HetznerClusterTemplateResource contains spec for HetznerClusterSpec.
                properties:
                  metadata:
                    description: "ObjectMeta is metadata that all persisted resources
                      must have, which includes all objects users must create. This
                      is a copy of customizable fields from metav1.ObjectMeta. \n
                      ObjectMeta is embedded in `Machine.Spec`, `MachineDeployment.Template`
                      and `MachineSet.Template`, which are not top-level Kubernetes
                      objects. Given that metav1.ObjectMeta has lots of special cases
                      and read-only fields which end up in the generated CRD validation,
                      having it as a subset simplifies the API and some issues that
                      can impact user experience. \n During the [upgrade to controller-tools@v2](https://github.com/kubernetes-sigs/cluster-api/pull/1054)
                      for v1alpha2, we noticed a failure would occur running Cluster
                      API test suite against the new CRDs, specifically `spec.metadata.creationTimestamp
                      in body must be of type string: \"null\"`. The investigation
                      showed that `controller-tools@v2` behaves differently than its
                      previous version when handling types from [metav1](k8s.io/apimachinery/pkg/apis/meta/v1)
                      package. \n In more details, we found that embedded (non-top
                      level) types that embedded `metav1.ObjectMeta` had validation
                      properties, including for `creationTimestamp` (metav1.Time).
                      The `metav1.Time` type specifies a custom json marshaller that,
                      when IsZero() is true, returns `null` which breaks validation
                      because the field isn't marked as nullable. \n In future versions,
                      controller-tools@v2 might allow overriding the type and validation
                      for embedded types. When that happens, this hack should be revisited."
                    properties:
                      annotations:
                        additionalProperties:
                          type: string
                        description: 'Annotations is an unstructured key value map
                          stored with a resource that may be set by external tools
                          to store and retrieve arbitrary metadata. They are not queryable
                          and should be preserved when modifying objects. More info:
                          http://kubernetes.io/docs/user-guide/annotations'
                        type: object
                      labels:
                        additionalProperties:
                          type: string
                        description: 'Map of string keys and values that can be used
                          to organize and categorize (scope and select) objects. May
                          match selectors of replication controllers and services.
                          More info: http://kubernetes.io/docs/user-guide/labels'
                        type: object
                    type: object
                  spec:
                    description: HetznerClusterSpec defines the desired state of HetznerCluster.
                    properties:
                      controlPlaneEndpoint:
                        description: ControlPlaneEndpoint represents the endpoint
                          used to communicate with the control plane.
                        properties:
                          host:
                            description: The hostname on which the API server is serving.
                            type: string
                          port:
                            description: The port on which the API server is serving.
                            format: int32
                            type: integer
                        required:
                        - host
                        - port
                        type: object
                      controlPlaneLoadBalancer:
                        description: ControlPlaneLoadBalancer is optional configuration
                          for customizing control plane behavior. Naming convention
                          is from upstream cluster-api project.
                        properties:
                          algorithm:
                            allOf:
                            - enum:
                              - round_robin
                              - least_connections
                            - enum:
                              - round_robin
                              - least_connections
                            default: round_robin
                            description: Could be round_robin or least_connection.
                              The default value is "round_robin".
                            type: string
                          enabled:
                            default: true
                            type: boolean
                          extraServices:
                            description: Defines how traffic will be routed from the
                              Load Balancer to your target server.
                            items:
                              description: LoadBalancerServiceSpec defines a Loadbalancer
                                Target.
                              properties:
                                destinationPort:
                                  description: DestinationPort defines the port on
                                    the server.
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                                listenPort:
                                  description: ListenPort, i.e. source port, defines
                                    the incoming port open on the loadbalancer.
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                                protocol:
                                  description: Protocol specifies the supported Loadbalancer
                                    Protocol.
                                  enum:
                                  - http
                                  - https
                                  - tcp
                                  type: string
                              type: object
                            type: array
                          name:
                            type: string
                          port:
                            default: 6443
                            description: API Server port. It must be valid ports range
                              (1-65535). If omitted, default value is 6443.
                            maximum: 65535
                            minimum: 1
                            type: integer
                          region:
                            description: Region contains the name of the HCloud location
                              the load balancer is running.
                            enum:
                            - fsn1
                            - hel1
                            - nbg1
                            - ash
                            - hil
                            type: string
                          type:
                            default: lb11
                            description: Loadbalancer type
                            enum:
                            - lb11
                            - lb21
                            - lb31
                            type: string
                        type: object
                      controlPlaneRegions:
                        description: ControlPlaneRegion consists of a list of HCloud
                          Regions (fsn, nbg, hel). Because HCloud Networks have a
                          very low latency we could assume in some use-cases that
                          a region is behaving like a zone https://kubernetes.io/docs/reference/labels-annotations-taints/#topologykubernetesiozone
                        items:
                          description: Region is a Hetzner Location
                          enum:
                          - fsn1
                          - hel1
                          - nbg1
                          - ash
                          - hil
                          type: string
                        type: array
                      hcloudNetwork:
                        description: HCloudNetworkSpec defines the Network for Hetzner
                          Cloud. If left empty no private Network is configured.
                        properties:
                          cidrBlock:
                            default: 10.0.0.0/16
                            description: CIDRBlock defines the cidrBlock of the HCloud
                              Network. A Subnet is required.
                            type: string
                          enabled:
                            description: Enabled defines whether the network should
                              be enabled or not
                            type: boolean
                          networkZone:
                            default: eu-central
                            description: NetworkZone specifies the HCloud network
                              zone of the private network.
                            enum:
                            - eu-central
                            - us-east
                            - us-west
                            type: string
                          subnetCidrBlock:
                            default: 10.0.0.0/24
                            description: SubnetCIDRBlock defines the cidrBlock for
                              the subnet of the HCloud Network.
                            type: string
                        required:
                        - enabled
                        type: object
                      hcloudPlacementGroups:
                        items:
                          description: HCloudPlacementGroupSpec defines a PlacementGroup.
                          properties:
                            name:
                              minLength: 1
                              type: string
                            type:
                              default: spread
                              enum:
                              - spread
                              type: string
                          required:
                          - name
                          type: object
                        type: array
                      hetznerSecretRef:
                        description: HetznerSecretRef is a reference to a token to
                          be used when reconciling this cluster. This is generated
                          in the security section under API TOKENS. Read & write is
                          necessary.
                        properties:
                          key:
                            description: HetznerSecretKeyRef defines the key name
                              of the HetznerSecret. Need to specify either HCloudToken
                              or both HetznerRobotUser and HetznerRobotPassword.
                            properties:
                              hcloudToken:
                                type: string
                              hetznerRobotPassword:
                                type: string
                              hetznerRobotUser:
                                type: string
                            type: object
                          name:
                            type: string
                        required:
                        - key
                        - name
                        type: object
                      sshKeys:
                        description: SSHKeys are cluster wide. Valid values are a
                          valid SSH key name.
                        properties:
                          hcloud:
                            items:
                              description: SSHKey defines the SSHKey for HCloud.
                              properties:
                                fingerprint:
                                  description: Fingerprint of SSH key - added by controller
                                  type: string
                                name:
                                  description: Name of SSH key
                                  minLength: 1
                                  type: string
                              required:
                              - name
                              type: object
                            type: array
                          robotRescueSecretRef:
                            description: SSHSecretRef defines the secret containing
                              all information of the SSH key used for Hetzner robot.
                            properties:
                              key:
                                description: SSHSecretKeyRef defines the key name
                                  of the SSHSecret.
                                properties:
                                  name:
                                    type: string
                                  privateKey:
                                    type: string
                                  publicKey:
                                    type: string
                                required:
                                - name
                                - privateKey
                                - publicKey
                                type: object
                              name:
                                type: string
                            required:
                            - key
                            - name
                            type: object
                        type: object
                    required:
                    - controlPlaneRegions
                    - hetznerSecretRef
                    - sshKeys
                    type: object
                required:
                - spec
                type: object
            required:
            - template
            type: object
        type: object
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null
---
apiVersion: v1
kind: ServiceAccount
metadata:
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    clusterctl.cluster.x-k8s.io: ""
  name: caph-controller-manager
  namespace: caph-system
---
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    clusterctl.cluster.x-k8s.io: ""
  name: caph-leader-election-role
  namespace: caph-system
rules:
- apiGroups:
  - ""
  resources:
  - configmaps
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - coordination.k8s.io
  resources:
  - leases
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - ""
  resources:
  - events
  verbs:
  - create
  - patch
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    clusterctl.cluster.x-k8s.io: ""
  name: caph-manager-role
rules:
- apiGroups:
  - ""
  resources:
  - events
  verbs:
  - create
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - ""
  resources:
  - secrets
  verbs:
  - get
  - list
  - update
  - watch
- apiGroups:
  - certificates.k8s.io
  resources:
  - certificatesigningrequests
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - certificates.k8s.io
  resources:
  - certificatesigningrequests/approval
  verbs:
  - update
- apiGroups:
  - certificates.k8s.io
  resourceNames:
  - kubernetes.io/kubelet-serving
  resources:
  - signers
  verbs:
  - approve
- apiGroups:
  - cluster.x-k8s.io
  resources:
  - clusters
  - clusters/status
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - cluster.x-k8s.io
  resources:
  - machines
  - machines/status
  verbs:
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hcloudmachines
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hcloudmachines/finalizers
  verbs:
  - update
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hcloudmachines/status
  verbs:
  - get
  - patch
  - update
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hcloudmachinetemplates
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hcloudmachinetemplates/status
  verbs:
  - get
  - patch
  - update
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hcloudremediations
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hcloudremediations/finalizers
  verbs:
  - update
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hcloudremediations/status
  verbs:
  - get
  - patch
  - update
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hetznerbaremetalhosts
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hetznerbaremetalhosts/finalizers
  verbs:
  - update
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hetznerbaremetalhosts/status
  verbs:
  - get
  - patch
  - update
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hetznerbaremetalmachines
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hetznerbaremetalmachines/finalizers
  verbs:
  - update
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hetznerbaremetalmachines/status
  verbs:
  - get
  - patch
  - update
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hetznerbaremetalremediations
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hetznerbaremetalremediations/finalizers
  verbs:
  - update
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hetznerbaremetalremediations/status
  verbs:
  - get
  - patch
  - update
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hetznerclusters
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hetznerclusters/finalizers
  verbs:
  - update
- apiGroups:
  - infrastructure.cluster.x-k8s.io
  resources:
  - hetznerclusters/status
  verbs:
  - get
  - patch
  - update
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    clusterctl.cluster.x-k8s.io: ""
  name: caph-metrics-reader
rules:
- nonResourceURLs:
  - /metrics
  verbs:
  - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  creationTimestamp: null
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    clusterctl.cluster.x-k8s.io: ""
  name: caph-leader-election-rolebinding
  namespace: caph-system
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: caph-leader-election-role
subjects:
- kind: ServiceAccount
  name: caph-controller-manager
  namespace: caph-system
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  creationTimestamp: null
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    clusterctl.cluster.x-k8s.io: ""
  name: caph-manager-rolebinding
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: caph-manager-role
subjects:
- kind: ServiceAccount
  name: caph-controller-manager
  namespace: caph-system
---
apiVersion: v1
kind: Service
metadata:
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    clusterctl.cluster.x-k8s.io: ""
  name: caph-webhook-service
  namespace: caph-system
spec:
  ports:
  - port: 443
    targetPort: 9443
  selector:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    control-plane: caph-controller-manager
---
apiVersion: apps/v1
kind: Deployment
metadata:
  creationTimestamp: null
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    clusterctl.cluster.x-k8s.io: ""
    control-plane: caph-controller-manager
  name: caph-controller-manager
  namespace: caph-system
spec:
  replicas: 1
  selector:
    matchLabels:
      cluster.x-k8s.io/provider: infrastructure-hetzner
      control-plane: caph-controller-manager
  strategy: {}
  template:
    metadata:
      annotations:
        kubectl.kubernetes.io/default-logs-container: manager
      creationTimestamp: null
      labels:
        cluster.x-k8s.io/provider: infrastructure-hetzner
        control-plane: caph-controller-manager
    spec:
      containers:
      - args:
        - --leader-elect=true
        command:
        - /manager
        image: ghcr.io/syself/caph:v1.0.0-beta.26
        imagePullPolicy: IfNotPresent
        livenessProbe:
          failureThreshold: 3
          httpGet:
            path: /healthz
            port: healthz
            scheme: HTTP
          periodSeconds: 10
          successThreshold: 1
          timeoutSeconds: 1
        name: manager
        ports:
        - containerPort: 9443
          name: webhook-server
          protocol: TCP
        - containerPort: 9440
          name: healthz
          protocol: TCP
        readinessProbe:
          failureThreshold: 3
          httpGet:
            path: /readyz
            port: healthz
            scheme: HTTP
          periodSeconds: 10
          successThreshold: 1
          timeoutSeconds: 1
        resources:
          limits:
            cpu: 150m
            memory: 250Mi
          requests:
            cpu: 100m
            memory: 100Mi
        volumeMounts:
        - mountPath: /tmp/k8s-webhook-server/serving-certs
          name: cert
          readOnly: true
      serviceAccountName: caph-controller-manager
      terminationGracePeriodSeconds: 10
      tolerations:
      - effect: NoSchedule
        key: node-role.kubernetes.io/control-plane
      volumes:
      - name: cert
        secret:
          defaultMode: 420
          secretName: caph-webhook-server-cert
status: {}
---
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    clusterctl.cluster.x-k8s.io: ""
  name: caph-serving-cert
  namespace: caph-system
spec:
  dnsNames:
  - caph-webhook-service.caph-system.svc
  - caph-webhook-service.caph-system.svc.cluster.local
  issuerRef:
    kind: Issuer
    name: caph-selfsigned-issuer
  secretName: caph-webhook-server-cert
  subject:
    organizations:
    - k8s-sig-cluster-lifecycle
---
apiVersion: cert-manager.io/v1
kind: Issuer
metadata:
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    clusterctl.cluster.x-k8s.io: ""
  name: caph-selfsigned-issuer
  namespace: caph-system
spec:
  selfSigned: {}
---
apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  annotations:
    cert-manager.io/inject-ca-from: caph-system/caph-serving-cert
  creationTimestamp: null
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    clusterctl.cluster.x-k8s.io: ""
  name: caph-mutating-webhook-configuration
webhooks:
- admissionReviewVersions:
  - v1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /mutate-infrastructure-cluster-x-k8s-io-v1beta1-hcloudremediationtemplate
  failurePolicy: Fail
  name: mhcloudremediationtemplate.kb.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hcloudremediationtemplates
  sideEffects: None
- admissionReviewVersions:
  - v1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /mutate-infrastructure-cluster-x-k8s-io-v1beta1-hetznerbaremetalremediationtemplate
  failurePolicy: Fail
  name: mhetznerbaremetalremediationtemplate.kb.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hetznerbaremetalremediationtemplates
  sideEffects: None
- admissionReviewVersions:
  - v1
  - v1beta1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /mutate-infrastructure-cluster-x-k8s-io-v1beta1-hcloudmachine
  failurePolicy: Fail
  name: mutation.hcloudmachine.infrastructure.cluster.x-k8s.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hcloudmachines
  sideEffects: None
- admissionReviewVersions:
  - v1
  - v1beta1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /mutate-infrastructure-cluster-x-k8s-io-v1beta1-hcloudremediation
  failurePolicy: Fail
  name: mutation.hcloudremediation.infrastructure.cluster.x-k8s.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hcloudremediations
  sideEffects: None
- admissionReviewVersions:
  - v1
  - v1beta1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /mutate-infrastructure-cluster-x-k8s-io-v1beta1-hetznerbaremetalhost
  failurePolicy: Fail
  name: mutation.hetznerbaremetalhost.infrastructure.cluster.x-k8s.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hetznerbaremetalhosts
  sideEffects: None
- admissionReviewVersions:
  - v1
  - v1beta1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /mutate-infrastructure-cluster-x-k8s-io-v1beta1-hetznerbaremetalmachine
  failurePolicy: Fail
  name: mutation.hetznerbaremetalmachine.infrastructure.cluster.x-k8s.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hetznerbaremetalmachines
  sideEffects: None
- admissionReviewVersions:
  - v1
  - v1beta1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /mutate-infrastructure-cluster-x-k8s-io-v1beta1-hetznerbaremetalremediation
  failurePolicy: Fail
  name: mutation.hetznerbaremetalremediation.infrastructure.cluster.x-k8s.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hetznerbaremetalremediations
  sideEffects: None
- admissionReviewVersions:
  - v1
  - v1beta1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /mutate-infrastructure-cluster-x-k8s-io-v1beta1-hetznercluster
  failurePolicy: Fail
  name: mutation.hetznercluster.infrastructure.cluster.x-k8s.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hetznerclusters
  sideEffects: None
---
apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  annotations:
    cert-manager.io/inject-ca-from: caph-system/caph-serving-cert
  creationTimestamp: null
  labels:
    cluster.x-k8s.io/provider: infrastructure-hetzner
    clusterctl.cluster.x-k8s.io: ""
  name: caph-validating-webhook-configuration
webhooks:
- admissionReviewVersions:
  - v1
  - v1beta1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /validate-infrastructure-cluster-x-k8s-io-v1beta1-hcloudmachine
  failurePolicy: Fail
  name: validation.hcloudmachine.infrastructure.cluster.x-k8s.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hcloudmachines
  sideEffects: None
- admissionReviewVersions:
  - v1
  - v1beta1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /validate-infrastructure-cluster-x-k8s-io-v1beta1-hcloudmachinetemplate
  failurePolicy: Fail
  name: validation.hcloudmachinetemplate.infrastructure.x-k8s.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hcloudmachinetemplates
  sideEffects: None
- admissionReviewVersions:
  - v1
  - v1beta1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /validate-infrastructure-cluster-x-k8s-io-v1beta1-hcloudremediation
  failurePolicy: Fail
  name: validation.hcloudremediation.infrastructure.cluster.x-k8s.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hcloudremediations
  sideEffects: None
- admissionReviewVersions:
  - v1
  - v1beta1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /validate-infrastructure-cluster-x-k8s-io-v1beta1-hetznerbaremetalhost
  failurePolicy: Fail
  name: validation.hetznerbaremetalhost.infrastructure.cluster.x-k8s.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hetznerbaremetalhosts
  sideEffects: None
- admissionReviewVersions:
  - v1
  - v1beta1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /validate-infrastructure-cluster-x-k8s-io-v1beta1-hetznerbaremetalmachine
  failurePolicy: Fail
  name: validation.hetznerbaremetalmachine.infrastructure.cluster.x-k8s.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hetznerbaremetalmachines
  sideEffects: None
- admissionReviewVersions:
  - v1
  - v1beta1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /validate-infrastructure-cluster-x-k8s-io-v1beta1-hetznerbaremetalmachinetemplate
  failurePolicy: Fail
  name: validation.hetznerbaremetalmachinetemplate.infrastructure.cluster.x-k8s.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hetznerbaremetalmachinetemplates
  sideEffects: None
- admissionReviewVersions:
  - v1
  - v1beta1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /validate-infrastructure-cluster-x-k8s-io-v1beta1-hetznerbaremetalremediation
  failurePolicy: Fail
  name: validation.hetznerbaremetalremediation.infrastructure.cluster.x-k8s.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hetznerbaremetalremediations
  sideEffects: None
- admissionReviewVersions:
  - v1
  - v1beta1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /validate-infrastructure-cluster-x-k8s-io-v1beta1-hetznercluster
  failurePolicy: Fail
  name: validation.hetznercluster.infrastructure.cluster.x-k8s.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hetznerclusters
  sideEffects: None
- admissionReviewVersions:
  - v1
  - v1beta1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /validate-infrastructure-cluster-x-k8s-io-v1beta1-hetznerclustertemplate
  failurePolicy: Fail
  name: validation.hetznerclustertemplate.infrastructure.cluster.x-k8s.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hetznerclustertemplates
  sideEffects: None
- admissionReviewVersions:
  - v1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /validate-infrastructure-cluster-x-k8s-io-v1beta1-hcloudremediationtemplate
  failurePolicy: Fail
  name: vhcloudremediationtemplate.kb.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hcloudremediationtemplates
  sideEffects: None
- admissionReviewVersions:
  - v1
  clientConfig:
    service:
      name: caph-webhook-service
      namespace: caph-system
      path: /validate-infrastructure-cluster-x-k8s-io-v1beta1-hetznerbaremetalremediationtemplate
  failurePolicy: Fail
  name: vhetznerbaremetalremediationtemplate.kb.io
  rules:
  - apiGroups:
    - infrastructure.cluster.x-k8s.io
    apiVersions:
    - v1beta1
    operations:
    - CREATE
    - UPDATE
    resources:
    - hetznerbaremetalremediationtemplates
  sideEffects: None
